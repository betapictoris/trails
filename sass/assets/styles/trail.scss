@import "_map";

// Generics
section.primary {
  max-width: 820px;
  padding: 8px;
}

// For trails with a featured image
.detail:has(.featured_image) {
  top: 0;
  position: absolute;
  width: 100%;
  height: 320px;

  overflow-x: hidden;

  > div.detail__name {
    top: 0;
    position: absolute;

    width: 100%;
    height: calc(320px - 24px);

    display: flex;
    justify-content: flex-end;
    flex-direction: column;
    padding: 8px 8px 16px;

    > h1 {
      font-size: 2em;
      color: #fff;

      width: 100%;
      max-width: calc(820px + 16px);
      margin: 0 auto;
    }
  }
  
  > .featured_image {
    top: 0;
    position: absolute;

    object-fit: cover;
    filter: brightness(0.8);
    z-index: -1;

    width: 100%;
    height: 320px;
  }
}

.detail:has(.featured_image) + .primary {
  margin: 260px auto 0;
}

// For trails without a featured image we'll go back to the "classic" layout.
.detail:not(:has(.featured_image)) {
  width: 100%;
  max-width: 820px;
  margin: 32px auto 0;
  padding: 8px;

  .detail__name h1 {
    line-height: 1;
    margin: 0;
  }
}


.detail:not(:has(.featured_image)) + section.primary {
  margin: 0 auto;
}